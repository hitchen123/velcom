var reduce=require("../reduce");module.exports=function flexboxLines(c){var a;c.lines=[a={main:0,cross:0,children:[]}];var b=-1;var d;while(d=c.children[++b]){if(c.style.flexWrap==="nowrap"||a.children.length===0||c.flexStyle.main==="auto"||c.flexStyle.main-c.flexStyle.mainInnerBefore-c.flexStyle.mainInnerAfter-c.flexStyle.mainBorderBefore-c.flexStyle.mainBorderAfter>=a.main+d.flexStyle.mainOuter){a.main+=d.flexStyle.mainOuter;a.cross=Math.max(a.cross,d.flexStyle.crossOuter)}else{c.lines.push(a={main:d.flexStyle.mainOuter,cross:d.flexStyle.crossOuter,children:[]})}a.children.push(d)}c.flexStyle.mainLines=reduce(c.lines,function(f,e){return Math.max(f,e.main)},0);c.flexStyle.crossLines=reduce(c.lines,function(e,f){return e+f.cross},0);if(c.flexStyle.main==="auto"){c.flexStyle.main=Math.max(c.flexStyle.mainOffset,c.flexStyle.mainLines+c.flexStyle.mainInnerBefore+c.flexStyle.mainInnerAfter+c.flexStyle.mainBorderBefore+c.flexStyle.mainBorderAfter)}if(c.flexStyle.cross==="auto"){c.flexStyle.cross=Math.max(c.flexStyle.crossOffset,c.flexStyle.crossLines+c.flexStyle.crossInnerBefore+c.flexStyle.crossInnerAfter+c.flexStyle.crossBorderBefore+c.flexStyle.crossBorderAfter)}c.flexStyle.crossSpace=c.flexStyle.cross-c.flexStyle.crossInnerBefore-c.flexStyle.crossInnerAfter-c.flexStyle.crossBorderBefore-c.flexStyle.crossBorderAfter-c.flexStyle.crossLines;c.flexStyle.mainOuter=c.flexStyle.main+c.flexStyle.mainBefore+c.flexStyle.mainAfter;c.flexStyle.crossOuter=c.flexStyle.cross+c.flexStyle.crossBefore+c.flexStyle.crossAfter};