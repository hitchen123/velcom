module.exports=readAll;var read=require("../read");var displayFlexMatch=/(^|;)\s*display\s*:\s*(inline-)?flex\s*(;|$)/i;var flexMatch=/^(inline-)?flex$/i;function readAll(a){var b=[];readElementAndTree(a,b);return b}function readElementAndTree(i,g){var b=isElementDisplayFlexCheck(i);var f=[];var j=-1;var c;while(c=i.childNodes[++j]){var e=c.nodeType===3&&!/^\s*$/.test(c.nodeValue);if(b&&e){var h=c;c=i.insertBefore(document.createElement("flex-item"),h);c.appendChild(h)}var k=c instanceof Element;if(k){var d=readElementAndTree(c,g);if(b){var l=c.style;l.display="inline-block";l.position="absolute";d.style=read(c).style;f.push(d)}}}var a={element:i,children:f};if(b){a.style=read(i).style;g.push(a)}return a}function isElementDisplayFlexCheck(b){var c=b instanceof Element;var a=c&&b.getAttribute("data-style");var d=c&&b.currentStyle&&b.currentStyle["-js-display"];var e=displayFlexMatch.test(a)||flexMatch.test(d);return e};